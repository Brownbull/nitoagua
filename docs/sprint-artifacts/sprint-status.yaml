# generated: 2025-12-16
# project: nitoagua
# project_key: nitoagua
# tracking_system: file-system
# story_location: docs/sprint-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted: Epic tech context created (required before drafting stories)
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder
#   - ready-for-dev: Draft approved and story context created
#   - in-progress: Developer actively working on implementation
#   - review: Under SM review (via code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done
#
# WORKFLOW NOTES:
# ===============
# - Epics should be 'contexted' before stories can be 'drafted'
# - Stories can be worked in parallel if team capacity allows
# - SM typically drafts next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', SM reviews, then Dev moves to 'done'
# - RECOMMENDED: Run test-design workflow after Epic 1, before Epic 2

generated: 2025-12-16
project: nitoagua
project_key: nitoagua
tracking_system: file-system
story_location: docs/sprint-artifacts

development_status:
  # Epic 1: Foundation & Infrastructure
  epic-1: contexted
  1-1-project-initialization: done
  1-2-supabase-database-setup: done
  1-3-supabase-authentication-integration: done
  1-4-pwa-configuration: done
  1-5-deployment-pipeline: done
  epic-1-retrospective: completed

  # Epic 2: Consumer Water Request
  epic-2: contexted
  2-1-consumer-home-screen-with-big-action-button: done
  2-2-water-request-form-guest-flow: done
  2-3-request-review-and-submission: done
  2-4-request-confirmation-screen: done
  2-5-request-status-tracking-guest: done
  2-6-request-status-page-consumer-view: done
  2-7-fix-water-requests-rls-policy: done
  epic-2-retrospective: completed

  # Epic 3: Supplier Dashboard & Request Management
  epic-3: contexted
  3-1-supplier-registration: done
  3-2-supplier-login: done
  3-3-supplier-request-dashboard: done
  3-4-supplier-request-details-view: done
  3-5-accept-request-with-delivery-window: done
  3-6-mark-request-as-delivered: done
  3-7-supplier-profile-management: done
  3-8-epic-deployment-and-verification: done
  epic-3-retrospective: completed

  # Epic 4: User Accounts & Profiles
  epic-4: contexted
  4-1-consumer-registration: done  # APPROVED: Extended to include login, profile, history, pre-fill
  4-2-consumer-login: done  # APPROVED: Implemented in 4-1 extension, reviewed with 4-1
  4-3-pre-filled-request-form-for-registered-users: done  # APPROVED: Implemented in 4-1 extension, reviewed with 4-1
  4-4-consumer-request-history: done  # APPROVED: Implemented in 4-1 extension, reviewed with 4-1
  4-5-cancel-pending-request: done  # Implemented and approved via code review
  4-6-epic-deployment-and-verification: done  # APPROVED - Senior Dev Review passed 2025-12-05
  epic-4-retrospective: completed  # Retrospective completed 2025-12-05

  # Prep Sprint: Epic 5 Readiness
  # =============================
  # Purpose: Address technical debt and prepare foundation before Epic 5
  # Decision: Made during Epic 4 retrospective to ensure clean slate
  prep-5: contexted
  prep-5-1-fix-dashboard-data-freshness: done  # CRITICAL - Approved 2025-12-05
  prep-5-2-fix-tab-count-inconsistency: done  # CRITICAL - Approved 2025-12-07
  prep-5-3-seeded-test-data-setup: done  # IMPORTANT - Enable E2E integration tests - APPROVED 2025-12-07
  prep-5-4-resend-react-email-spike: done  # IMPORTANT - Research for Epic 5 - APPROVED 2025-12-07
  prep-5-5-webkit-flaky-test-fix: done  # NICE-TO-HAVE - Fix ~21 intermittent failures - APPROVED 2025-12-07
  prep-5-retrospective: completed  # Quick retro 2025-12-07

  # Epic 5: Notifications & Communication
  epic-5: contexted
  5-1-email-notification-setup-with-resend: done  # Completed via prep-5-4 spike - 2025-12-07
  5-2-guest-email-notifications: done  # APPROVED - Senior Dev Review passed 2025-12-08
  5-3-in-app-notifications-for-registered-users: done  # APPROVED - Re-implemented and merged 2025-12-08
  5-4-epic-deployment-and-verification: done  # APPROVED - Epic 5 fully deployed 2025-12-08
  epic-5-retrospective: completed  # Retrospective completed 2025-12-08 - MVP COMPLETE

  # =============================================
  # V2 POST-MVP EPICS (Consumer-Choice Offer Model)
  # Reordered by dependency: Admin -> Onboarding -> Offers -> Selection -> UX
  # =============================================

  # Epic 6: Admin Operations Panel (FIRST V2 EPIC - no dependencies)
  epic-6: contexted  # Tech spec created 2025-12-12
  6-1-admin-authentication-and-access: done  # APPROVED 2025-12-12 - Re-review passed, all ACs verified
  6-2-offer-system-configuration: done  # APPROVED 2025-12-12 - Senior Dev Review passed
  6-3-provider-verification-queue: done  # APPROVED 2025-12-13 - Senior Dev Review passed
  6-4-provider-directory: done  # APPROVED 2025-12-13 - Senior Dev Review passed
  6-5-cash-settlement-tracking: done  # APPROVED 2025-12-13 - Senior Dev Review passed
  6-6-orders-management: done  # APPROVED 2025-12-13 - Senior Dev Review passed
  6-7-offer-expiration-cron-job: done  # APPROVED 2025-12-13 - Senior Dev Review passed
  6-8-operations-dashboard: done  # APPROVED 2025-12-14 - Senior Dev Review passed
  6-9-pricing-configuration: done  # APPROVED 2025-12-14 - Senior Dev Review passed
  6-10-epic-deployment-and-verification: done  # APPROVED 2025-12-14 - Epic 6 fully deployed to production
  epic-6-retrospective: optional  # Epic 6 complete - Admin Operations Panel live

  # Epic 7: Provider Onboarding (depends on Epic 6 admin verification queue)
  epic-7: contexted  # Tech spec created 2025-12-15
  7-1-provider-registration-flow: done  # APPROVED - Senior Dev Review passed 2025-12-15
  7-2-verification-status-screen: done  # APPROVED - Senior Dev Review passed 2025-12-15
  7-3-service-area-configuration: done  # APPROVED - Senior Dev Review passed 2025-12-15
  7-4-provider-availability-toggle: done  # APPROVED - Senior Dev Review passed 2025-12-15
  7-5-provider-document-management: done  # APPROVED - Senior Dev Review passed 2025-12-15
  7-6-epic-deployment-and-verification: done  # DEPLOYED to production 2025-12-15 - All verified
  # UX Alignment Stories - Align implementation with mockups (Section 13.2-13.5)
  7-7-ux-alignment-personal-information: done  # APPROVED 2025-12-16 - Final systematic review passed, all 9 ACs verified
  7-8-ux-alignment-document-upload: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 8 ACs verified
  7-9-ux-alignment-vehicle-information: done  # APPROVED 2025-12-16 - Re-review passed after AC7.9.9 fix
  7-10-ux-alignment-bank-account: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 10 ACs verified
  7-11-ux-alignment-deployment-verification: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 18 ACs verified
  epic-7-retrospective: optional  # Epic 7 complete - Provider Onboarding with UX alignment

  # Epic 8: Provider Offer System (depends on Epic 7 for approved providers)
  epic-8: contexted  # Tech spec created 2025-12-16
  8-1-provider-request-browser: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 6 ACs verified
  8-2-submit-offer-on-request: done  # APPROVED 2025-12-16 - Re-review passed, all action items addressed
  8-3-providers-active-offers-list: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 5 ACs verified
  8-4-withdraw-pending-offer: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 5 ACs verified
  8-5-offer-acceptance-notification: done  # APPROVED 2025-12-17 - All 7 tasks complete, 10 E2E tests passing
  8-6-earnings-dashboard: review  # Completed 2025-12-17 - 26 unit tests, 21 E2E tests passing
  8-7-cash-commission-settlement: ready-for-dev  # Context generated 2025-12-16
  8-8-epic-deployment-and-verification: ready-for-dev  # Story drafted 2025-12-16
  8-9-provider-settings-page: review  # Completed 2025-12-17 - 13 E2E tests passing, all ACs implemented
  8-10-provider-map-view: drafted  # NEW 2025-12-16 - Map view for requests (P3 - nice-to-have)
  epic-8-retrospective: optional

  # Epic 9: CORFO Semilla Application (PARALLEL TRACK - no code dependencies)
  # Type: Business Development
  # Timeline: CRITICAL - Deadline December 18, 2025 15:00 hrs Chile
  # NOTE: All output documents must be in Spanish (Chilean)
  epic-9: contexted  # Stories drafted 2025-12-16
  9-1-national-scalability-narrative: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 6 ACs verified
  9-2-innovation-differentiation-brief: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 7 ACs verified
  9-3-team-capabilities-profile: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 8 ACs verified
  9-4-video-pitch-script-production: review  # Script created - video recording is user task
  9-5-application-form-completion: drafted  # Dec 17 - Fill CORFO form (all Spanish)
  9-6-application-review-submission: drafted  # Dec 17 evening - CRITICAL submit before Dec 18 15:00
  9-7-post-submission-documentation: drafted  # Dec 18 - Archive all materials
  9-8-market-research: done  # APPROVED 2025-12-16 - Senior Dev Review passed, all 8 ACs verified
  epic-9-retrospective: optional

  # Testing & Quality (Tech Debt Sprint)
  # =====================================
  # Purpose: Fix E2E testing gaps discovered during Epic 8 testing
  # Priority: HIGH - Tests passing silently with broken DB
  testing-1-e2e-reliability: in-progress  # E2E tests should fail on DB errors
  testing-2-local-schema-sync: drafted  # Fix local Supabase schema mismatch

  # Epic 10: Consumer Offer Selection (depends on Epic 8 offers system)
  epic-10: backlog
  10-1-offer-list-view-for-consumers: backlog
  10-2-select-provider-offer: backlog
  10-3-offer-countdown-timer-consumer-view: backlog
  10-4-request-timeout-notification: backlog
  10-5-request-status-with-offer-context: backlog
  epic-10-retrospective: optional

  # Epic 11: Consumer UX Enhancements (depends on Epic 10 consumer flow)
  epic-11: backlog
  11-1-map-location-pinpoint: backlog
  11-2-payment-method-selection: backlog
  11-3-negative-status-states: backlog
  11-4-urgency-pricing-display: backlog
  11-5-remove-fake-social-proof: backlog
  epic-11-retrospective: optional
