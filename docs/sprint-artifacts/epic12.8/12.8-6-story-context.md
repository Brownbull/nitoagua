# Story 12.8-6: UI Polish - Context

## Quick Reference

| Field | Value |
|-------|-------|
| **Story** | 12.8-6: UI Polish (Toasts, Icons, Fonts) |
| **Priority** | P3 (Low) |
| **Points** | 3 |
| **Bugs** | BUG-R2-005, BUG-R2-006, BUG-R2-016 |

## Problem Summary

1. Push notification status bar shows grey circle (not app icon)
2. Rating popup may have inconsistent font
3. Toast notifications lack icons and use wrong font

## Key Files

| File | Purpose |
|------|---------|
| `public/sw.js` | Add badge property to notification |
| `public/icons/badge-72.png` | **CREATE** - Monochrome badge icon |
| `src/components/ui/sonner.tsx` | Configure font + icons |
| Rating dialog component | Ensure font-sans class |

## Implementation Steps

1. Create monochrome badge icon (72x72, white on transparent)
2. Update sw.js to use `badge: "/icons/badge-72.png"`
3. Configure Sonner with Inter font
4. Add default icons for success/error toasts
5. Verify rating dialog uses font-sans

## Badge Icon Spec

- Size: 72x72 pixels
- Color: White on transparent
- Shape: Droplet silhouette
- Purpose: Android status bar (system will tint)

## Sonner Configuration

```tsx
<Sonner
  toastOptions={{
    style: {
      fontFamily: 'Inter, system-ui, sans-serif',
    },
  }}
  icons={{
    success: <CheckCircle className="h-5 w-5 text-green-500" />,
    error: <XCircle className="h-5 w-5 text-red-500" />,
  }}
/>
```

## Testing Focus

- Android notification shows app icon in status bar
- Toast font matches app font
- Success toast shows green checkmark
- Error toast shows red X
